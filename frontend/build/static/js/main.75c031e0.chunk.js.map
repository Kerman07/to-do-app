{"version":3,"sources":["reducers/notificationReducer.js","services/todos.js","reducers/todoReducer.js","services/users.js","components/notification.js","components/csrfToken.js","components/login.js","components/item.js","components/table.js","components/newTodo.js","components/home.js","components/register.js","App.js","store.js","index.js"],"names":["timer","getTodos","a","axios","get","response","data","createTodo","content","post","editTodo","id","put","removeTodo","delete","todoService","addTodo","dispatch","type","todoReducer","state","action","concat","map","el","filter","loginUser","username","password","localStorage","setItem","token","createUser","email","errors","error","userService","connect","notification","props","className","setNotification","time","clearTimeout","setTimeout","notificationReducer","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","CsrfToken","csrftoken","value","Login","setRerender","useState","setUsername","setPassword","history","useHistory","useDispatch","handleLogin","event","preventDefault","push","onSubmit","onChange","target","required","style","display","float","to","Item","item","edit","setEdit","setContent","placeholder","width","onClick","updateTodo","then","Table","items","useSelector","todos","NewTodo","todo","setTodo","handleCreate","e","Home","getItem","justifyContent","alignItems","removeItem","Register","setEmail","App","rerender","useEffect","defaults","headers","common","path","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.75c031e0.chunk.js","sourcesContent":["let timer;\r\n\r\nconst notificationReducer = (state = \"\", action) => {\r\n  switch (action.type) {\r\n    case \"SET_NOTIFICATION\": {\r\n      return action.data.content;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setNotification = (content, time) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_NOTIFICATION\",\r\n      data: { content },\r\n    });\r\n    clearTimeout(timer);\r\n    timer = setTimeout(\r\n      () =>\r\n        dispatch({\r\n          type: \"SET_NOTIFICATION\",\r\n          data: { content: \"\" },\r\n        }),\r\n      time\r\n    );\r\n  };\r\n};\r\n\r\nexport default notificationReducer;\r\n","import axios from \"axios\";\r\n\r\nconst getTodos = async () => {\r\n  const response = await axios.get(\"/api/todos/\");\r\n  return response.data;\r\n};\r\n\r\nconst createTodo = async (content) => {\r\n  const response = await axios.post(\"/api/todos/\", {\r\n    content,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst editTodo = async (id, content) => {\r\n  const response = await axios.put(`/api/todos/${id}/`, { content });\r\n  return response.data;\r\n};\r\n\r\nconst removeTodo = async (id) => {\r\n  await axios.delete(`/api/todos/${id}/`);\r\n};\r\n\r\nconst todoService = { createTodo, editTodo, getTodos, removeTodo };\r\nexport default todoService;\r\n","import todoService from \"../services/todos\";\r\n\r\nconst todoReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"GET_TODOS\":\r\n      return action.data;\r\n    case \"ADD_TODO\":\r\n      return state.concat(action.data);\r\n    case \"EDIT_TODO\":\r\n      return state.map((el) => (el.id !== action.data.id ? el : action.data));\r\n    case \"DELETE_TODO\":\r\n      return state.filter((el) => el.id !== action.data.id);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getTodos = () => {\r\n  return async (dispatch) => {\r\n    const response = await todoService.getTodos();\r\n    dispatch({\r\n      type: \"GET_TODOS\",\r\n      data: response,\r\n    });\r\n  };\r\n};\r\n\r\nexport const addTodo = (content) => {\r\n  return async (dispatch) => {\r\n    const response = await todoService.createTodo(content);\r\n    dispatch({\r\n      type: \"ADD_TODO\",\r\n      data: response,\r\n    });\r\n  };\r\n};\r\n\r\nexport const updateTodo = (id, content) => {\r\n  return async (dispatch) => {\r\n    const response = await todoService.editTodo(id, content);\r\n    dispatch({\r\n      type: \"EDIT_TODO\",\r\n      data: response,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteTodo = (id) => {\r\n  return async (dispatch) => {\r\n    await todoService.removeTodo(id);\r\n    dispatch({\r\n      type: \"DELETE_TODO\",\r\n      data: id,\r\n    });\r\n  };\r\n};\r\n\r\nexport default todoReducer;\r\n","import axios from \"axios\";\r\n\r\nconst loginUser = async ({ username, password }) => {\r\n  try {\r\n    const response = await axios.post(\"/api-token-auth/\", {\r\n      username,\r\n      password,\r\n    });\r\n    localStorage.setItem(\"REACT_TOKEN_AUTH\", \"Token \" + response.data.token);\r\n    localStorage.setItem(\"LOGGED_USER\", username);\r\n    return response.data;\r\n  } catch (e) {\r\n    return { token: \"\" };\r\n  }\r\n};\r\n\r\nconst createUser = async ({ username, email, password }) => {\r\n  try {\r\n    await axios.post(\"/user/register/\", {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n    return { username, password };\r\n  } catch (e) {\r\n    const errors = e.response.data;\r\n    if (errors.username) return { error: \"username: \" + errors.username };\r\n    if (errors.email) return { error: \"email: \" + errors.email[0] };\r\n    if (errors.password) return { error: errors.password[0] };\r\n  }\r\n};\r\n\r\nconst userService = { createUser, loginUser };\r\nexport default userService;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Notification = (props) => {\r\n  if (props.notification !== \"\")\r\n    return <div className=\"notif\">{props.notification}</div>;\r\n  return null;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { notification: state.notification };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Notification);\r\n","export function getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== \"\") {\r\n    const cookies = document.cookie.split(\";\");\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nconst CsrfToken = () => {\r\n  const csrftoken = getCookie(\"csrftoken\");\r\n  return <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />;\r\n};\r\n\r\nexport default CsrfToken;\r\n","import { useState } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport userService from \"../services/users.js\";\r\nimport Notification from \"./notification.js\";\r\nimport { setNotification } from \"../reducers/notificationReducer.js\";\r\nimport CsrfToken from \"./csrfToken.js\";\r\n\r\nconst Login = ({ setRerender }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    const res = await userService.loginUser({ username, password });\r\n    if (res.token !== \"\") {\r\n      setRerender(\"r\");\r\n      history.push(\"/home\");\r\n    } else {\r\n      dispatch(setNotification(\"Username or password are not correct!\", 5000));\r\n      setRerender(\"c\");\r\n    }\r\n  };\r\n\r\n  const usernameHandler = (event) => setUsername(event.target.value);\r\n  const passwordHandler = (event) => setPassword(event.target.value);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mt-5\">\r\n        <div className=\"col-6 container\">\r\n          <legend className=\"border-bottom mb-4\">Log In</legend>\r\n\r\n          <form onSubmit={handleLogin}>\r\n            <CsrfToken />\r\n            <div className=\"form-group\">\r\n              <label className=\"custom-field\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"username\"\r\n                  onChange={usernameHandler}\r\n                  required\r\n                />\r\n                <span className=\"placeholder\">Username:</span>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"custom-field\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  onChange={passwordHandler}\r\n                  required\r\n                />\r\n                <span className=\"placeholder\">Password:</span>\r\n              </label>\r\n            </div>\r\n\r\n            <Notification />\r\n\r\n            <div className=\"form-group\">\r\n              <button\r\n                className=\"btn btn-success\"\r\n                style={{ display: \"inline\", float: \"none\" }}\r\n                type=\"submit\"\r\n              >\r\n                Log In\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <div className=\"border-top pt3\">\r\n            <small className=\"text-muted\">\r\n              Don't have an account?{\" \"}\r\n              <Link className=\"ml-2\" to=\"/register\">\r\n                Sign Up\r\n              </Link>\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateTodo, deleteTodo } from \"../reducers/todoReducer\";\r\n\r\nconst Item = ({ item, setRerender }) => {\r\n  const [edit, setEdit] = useState(false);\r\n  const [content, setContent] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (event) => setContent(event.target.value);\r\n\r\n  const handleEdit = () => {\r\n    dispatch(updateTodo(item.id, content)).then(() => {\r\n      setRerender(\"edt\");\r\n      setEdit(!edit);\r\n    });\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteTodo(item.id)).then(() => {\r\n      setRerender(\"dut\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {edit ? (\r\n        <tr>\r\n          <td className=\"col-8 align-middle\">\r\n            <input\r\n              type=\"text\"\r\n              onChange={handleChange}\r\n              placeholder={item.content}\r\n              style={{ width: \"80%\" }}\r\n              required\r\n            ></input>\r\n          </td>\r\n          <td>\r\n            <button\r\n              className=\"btn btn-sm btn-outline-primary\"\r\n              name=\"edit\"\r\n              onClick={handleEdit}\r\n            >\r\n              Submit\r\n            </button>\r\n          </td>\r\n          <td>\r\n            <button\r\n              className=\"btn btn-sm btn-outline-danger\"\r\n              name=\"cancel\"\r\n              onClick={() => setEdit(!edit)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      ) : (\r\n        <tr>\r\n          <td className=\"col-8 align-middle\">{item.content}</td>\r\n          <td>\r\n            <button\r\n              className=\"btn btn-sm btn-outline-primary item-btn\"\r\n              onClick={() => setEdit(!edit)}\r\n            >\r\n              Edit\r\n            </button>\r\n          </td>\r\n          <td>\r\n            <button\r\n              className=\"btn btn-sm btn-outline-danger\"\r\n              name=\"delete\"\r\n              onClick={handleDelete}\r\n            >\r\n              Delete\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import { useSelector } from \"react-redux\";\r\nimport Item from \"./item.js\";\r\n\r\nconst Table = ({ setRerender }) => {\r\n  const items = useSelector((state) => state.todos);\r\n\r\n  return (\r\n    <table className=\"table table-striped\">\r\n      <tbody>\r\n        {items.map((item) => (\r\n          <Item key={item.id} item={item} setRerender={setRerender} />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addTodo } from \"../reducers/todoReducer\";\r\n\r\nconst NewTodo = ({ setRerender }) => {\r\n  const [todo, setTodo] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    dispatch(addTodo(todo));\r\n    setTodo(\"\");\r\n    setRerender(\"nt\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleCreate}>\r\n        <div className=\"flexbox\">\r\n          <label className=\"custom-field new-todo\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"todo\"\r\n              onChange={(e) => setTodo(e.target.value)}\r\n              value={todo}\r\n              required\r\n            />\r\n            <span className=\"placeholder\">New Todo:</span>\r\n          </label>\r\n\r\n          <button\r\n            className=\"btn btn-success create-btn new-todo\"\r\n            type=\"submit\"\r\n          >\r\n            Create\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewTodo;\r\n","import Table from \"./table.js\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport NewTodo from \"./newTodo.js\";\r\n\r\nconst Home = ({ setRerender }) => {\r\n  return (\r\n    <>\r\n      {localStorage.getItem(\"REACT_TOKEN_AUTH\") ? (\r\n        <div>\r\n          <div\r\n            className=\"navbar\"\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <div>Welcome {localStorage.getItem(\"LOGGED_USER\")},</div>\r\n            <button\r\n              className=\"btn btn-sm btn-link\"\r\n              onClick={() => {\r\n                localStorage.removeItem(\"REACT_TOKEN_AUTH\");\r\n                localStorage.removeItem(\"LOGGED_USER\");\r\n                setRerender(\"c\");\r\n              }}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n          \r\n\r\n          <NewTodo setRerender={setRerender} />\r\n          <Table setRerender={setRerender} />\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { setNotification } from \"../reducers/notificationReducer\";\r\nimport userService from \"../services/users\";\r\nimport Notification from \"./notification\";\r\nimport CsrfToken from \"./csrfToken\";\r\n\r\nconst Register = ({ setRerender }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const usernameHandler = (event) => setUsername(event.target.value);\r\n  const emailHandler = (event) => setEmail(event.target.value);\r\n  const passwordHandler = (event) => setPassword(event.target.value);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const response = await userService.createUser({\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n    if (\"error\" in response) {\r\n      dispatch(setNotification(response[\"error\"], 5000));\r\n    } else {\r\n      await userService.loginUser({\r\n        username: response.username,\r\n        password: response.password,\r\n      });\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"col-6 container\">\r\n        <legend className=\"border-bottom mb-4\">Register</legend>\r\n        <form onSubmit={handleCreate}>\r\n          <CsrfToken />\r\n          <div className=\"form-group\">\r\n            <label className=\"custom-field\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"username\"\r\n                onChange={usernameHandler}\r\n                required\r\n              />\r\n              <span className=\"placeholder\">Username:</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"custom-field\">\r\n              <input type=\"text\" id=\"email\" onChange={emailHandler} required />\r\n              <span className=\"placeholder\">Email:</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"custom-field\">\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={passwordHandler}\r\n                required\r\n              />\r\n              <span className=\"placeholder\">Password:</span>\r\n            </label>\r\n          </div>\r\n\r\n          <Notification />\r\n          <div className=\"form-group\">\r\n            <button className=\"btn btn-success\" type=\"submit\">\r\n              Register\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div className=\"border-top pt3\">\r\n          <small className=\"text-muted\">\r\n            Already have an account?{\" \"}\r\n            <Link className=\"ml-2\" to=\"/login\">\r\n              Log In\r\n            </Link>\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getTodos } from \"./reducers/todoReducer.js\";\r\nimport axios from \"axios\";\r\nimport Login from \"./components/login.js\";\r\nimport Home from \"./components/home.js\";\r\nimport Register from \"./components/register.js\";\r\nimport { getCookie } from \"./components/csrfToken.js\";\r\n\r\nconst App = () => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [rerender, setRerender] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"LOGGED_USER\")) {\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        localStorage.getItem(\"REACT_TOKEN_AUTH\");\r\n      axios.defaults.headers.common[\"X-CSRFToken\"] = getCookie(\"csrftoken\");\r\n      dispatch(getTodos());\r\n    }\r\n  }, [rerender, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/home\">\r\n            <Home setRerender={setRerender} />\r\n          </Route>\r\n\r\n          <Route path=\"/register\">\r\n            <Register setRerender={setRerender} />\r\n          </Route>\r\n\r\n          <Route path=\"/\">\r\n            <Login setRerender={setRerender} />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport notificationReducer from \"./reducers/notificationReducer\";\r\nimport todoReducer from \"./reducers/todoReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nconst reducer = combineReducers({\r\n  todos: todoReducer,\r\n  notification: notificationReducer,\r\n});\r\n\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./assets/styles.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}